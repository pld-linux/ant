diff -urN jakarta-ant-1.5.1.org/src/script/ant jakarta-ant-1.5.1/src/script/ant
--- jakarta-ant-1.5.1.org/src/script/ant	Wed Nov 27 00:01:16 2002
+++ jakarta-ant-1.5.1/src/script/ant	Wed Nov 27 00:06:27 2002
@@ -35,13 +35,13 @@
 
 if [ -z "$ANT_HOME" ] ; then
   # try to find ANT
-  if [ -d /opt/ant ] ; then 
+  if [ -f /usr/share/java/ant.jar ] ; then 
+    ANT_HOME=/usr/share/java
+  elif [ -d /opt/ant ] ; then 
     ANT_HOME=/opt/ant
-  fi
-
-  if [ -d "${HOME}/opt/ant" ] ; then 
+  elif [ -d "${HOME}/opt/ant" ] ; then 
     ANT_HOME="${HOME}/opt/ant"
-  fi
+  else
 
   ## resolve links - $0 may be a link to ant's home
   PRG="$0"
@@ -65,6 +65,8 @@
 
   cd "$saveddir"
 
+  fi
+
   # make it fully qualified
   ANT_HOME=`cd "$ANT_HOME" && pwd`
 fi
@@ -82,6 +84,10 @@
 # set ANT_LIB location
 ANT_LIB="${ANT_HOME}/lib"
 
+if [ -z "$JAVA_HOME" -a -x /usr/lib/java/bin/java ]; then
+  JAVA_HOME=/usr/lib/java
+fi
+
 if [ -z "$JAVACMD" ] ; then 
   if [ -n "$JAVA_HOME"  ] ; then
     if [ -x "$JAVA_HOME/jre/sh/java" ] ; then 
